# Kubernetes Namespaces
# Matrix/Synapse Production Deployment - 20K CCU
# Version: 2.0

# ============================================================================
# NAMESPACE ORGANIZATION
# ============================================================================
# Separate namespaces for logical isolation and RBAC:
# - matrix: Core Synapse homeserver and workers
# - redis-synapse: Dedicated Redis for Synapse
# - redis-livekit: Dedicated Redis for LiveKit
# - livekit: LiveKit SFU instances
# - coturn: TURN/STUN servers
# - minio: Object storage
# - monitoring: Prometheus, Grafana, Loki
# - ingress-nginx: Ingress controller
# - metallb-system: Load balancer
# - cert-manager: Certificate management
# - cnpg-system: CloudNativePG operator
# ============================================================================

---
apiVersion: v1
kind: Namespace
metadata:
  name: matrix
  labels:
    name: matrix
    app: synapse
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: redis-synapse
  labels:
    name: redis-synapse
    app: redis
    purpose: synapse-cache
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: redis-livekit
  labels:
    name: redis-livekit
    app: redis
    purpose: livekit-coordination
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: livekit
  labels:
    name: livekit
    app: livekit
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: coturn
  labels:
    name: coturn
    app: coturn
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: minio
  labels:
    name: minio
    app: minio
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: monitoring
  labels:
    name: monitoring
    app: monitoring
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: ingress-nginx
  labels:
    name: ingress-nginx
    app: ingress-nginx
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: metallb-system
  labels:
    name: metallb-system
    app: metallb
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: cert-manager
  labels:
    name: cert-manager
    app: cert-manager
    environment: production

---
apiVersion: v1
kind: Namespace
metadata:
  name: cnpg-system
  labels:
    name: cnpg-system
    app: cloudnativepg
    environment: production
